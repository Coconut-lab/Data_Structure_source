// 명품 열혈 C자료구조(최영규, 생능 출판사, 2024)
// 참고파일 ch03/reverse_str.c

//-------------------------------------------------------------
// 코드 3.3 문자열 뒤집기 예제
//-------------------------------------------------------------
/*
 * [프로그램 설명]
 * 이 프로그램은 스택을 활용하여 사용자가 입력한 문자열을 뒤집어 출력합니다.
 * 스택의 후입선출(LIFO) 특성을 활용한 간단하면서도 효과적인 예제입니다.
 * 
 * [알고리즘 원리]
 * 1. 문자열의 각 문자를 순서대로 스택에 push
 * 2. 스택에서 문자를 하나씩 pop하여 출력
 * 3. 스택의 LIFO 특성에 의해 문자들이 역순으로 출력됨
 */

#include <stdio.h>
#include <stdlib.h>

#define MAX_SIZE 2000    // 스택의 최대 크기를 2000으로 정의 (긴 문자열도 처리 가능)
typedef char Element;    // 스택에 저장할 데이터 타입을 char로 정의
#include "ArrayStack.h"  // 스택 구현이 포함된 헤더 파일

void main()
{
    char str[200];  // 입력 문자열을 저장할 배열

    init_stack();  // 스택 초기화
    printf("문자열 입력: ");
    gets_s(str, 200);  // 사용자로부터 문자열 입력 받기 (최대 199자 + 널 문자)
    
    // 문자열의 각 문자를 스택에 push
    for (int i = 0; str[i] != '\0'; i++)  // '\0'(널 문자)를 만날 때까지 반복
        push(str[i]);  // 현재 문자를 스택에 저장
    
    /*
     * [스택 상태 예시]
     * 입력: "Hello"
     * 
     * push 과정 후 스택 상태 (위가 스택의 top)
     * +-----+
     * | 'o' | ← top
     * +-----+
     * | 'l' |
     * +-----+
     * | 'l' |
     * +-----+
     * | 'e' |
     * +-----+
     * | 'H' |
     * +-----+
     */

    // 스택이 빌 때까지 문자를 pop하여 출력 (역순 출력)
    printf("문자열 역순: ");
    while (!is_empty())
        putchar(pop());  // 스택에서 문자를 꺼내어 출력 (LIFO 순서로 출력됨)
    printf("\n");
    
    /*
     * [실행 결과 예시]
     * 문자열 입력: Hello
     * 문자열 역순: olleH
     * 
     * [스택을 사용하는 이유]
     * 문자열 뒤집기는 스택의 LIFO 특성을 활용하기 적합한 문제입니다.
     * 문자를 순서대로 스택에 넣고 꺼내면 자연스럽게 역순으로 처리됩니다.
     * 
     * [응용 분야]
     * 이런 방식은 다양한 문자열 처리나 괄호 매칭 확인 등에 활용됩니다.
     * 또한 텍스트 에디터의 Undo 기능, 웹 브라우저의 방문 기록(Back 버튼) 등도
     * 비슷한 스택 메커니즘을 활용합니다.
     */
}
