// 두근두근 자료구조 개정판(최영규, 생능 출판사)
// 참고파일 ch03/ArrayStack.c

//-------------------------------------------------------------
// 코드 3.2 스택의 활용
//-------------------------------------------------------------
/*
 * [프로그램 설명]
 * 이 프로그램은 배열 기반 스택의 기본 사용법을 보여주는 예제입니다.
 * 피보나치 수열의 일부를 스택에 저장했다가 꺼내면서 순서가 역순이 되는 것을 보여줍니다.
 * 이는 스택의 후입선출(LIFO) 특성을 명확하게 보여줍니다.
 */

#include <stdio.h>
#include <stdlib.h>

/*
 * [중요] ArrayStack.h 사용을 위한 사전 정의
 * 스택 헤더 파일을 include하기 전에 반드시 다음 값들을 정의해야 합니다:
 * 1. MAX_SIZE: 스택의 최대 크기
 * 2. Element: 스택에 저장할 데이터 타입
 */
#define MAX_SIZE 100    // 스택의 최대 크기를 100으로 정의
typedef int Element;    // 스택에 저장할 데이터 타입을 int로 정의

#include "ArrayStack.h"  // 이제 필요한 정의를 마쳤으므로 스택 헤더 포함

void main()
{
    // 피보나치 수열의 처음 7개 숫자로 배열 초기화
    int A[7] = { 0, 1, 1, 2, 3, 5, 8 };
    
    // 스택 초기화 (top = -1로 설정)
    init_stack();
    
    // 피보나치 수열을 출력하고 스택에 저장
    printf("스택 테스트\n 입력 데이터: ");
    for (int i = 0; i < 7; i++) {
        printf(" %d", A[i]);  // 현재 값을 출력
        push(A[i]);           // 현재 값을 스택에 저장
    }
    
    /*
     * [스택 상태 시각화]
     * 모든 데이터가 push된 후의 스택 상태 (위가 스택의 top)
     * +---+
     * | 8 | ← top (인덱스 6)
     * +---+
     * | 5 |
     * +---+
     * | 3 |
     * +---+
     * | 2 |
     * +---+
     * | 1 |
     * +---+
     * | 1 |
     * +---+
     * | 0 |
     * +---+
     */
    
    // 스택이 비어있지 않는 동안 데이터를 꺼내어 출력
    printf("\n 출력 데이터: ");
    while (!is_empty())  // 스택이 비어있지 않으면 계속 반복
        printf(" %d", pop());  // 스택에서 하나씩 꺼내어 출력 (LIFO 순서로 출력됨)
    printf("\n");
    
    /*
     * [출력 결과 분석]
     * 입력 데이터: 0 1 1 2 3 5 8  (피보나치 수열 순서)
     * 출력 데이터: 8 5 3 2 1 1 0  (역순으로 출력됨)
     * 
     * 이는 스택의 후입선출(LIFO) 특성을 잘 보여줍니다.
     * 마지막에 저장된 8이 가장 먼저 꺼내지고, 
     * 처음에 저장된 0이 가장 마지막에 꺼내집니다.
     */
}
