// 두근두근 C자료구조(최영규, 생능 출판사, 2024)
// 참고파일 ch06/ArrayList.c

//--------------------------------------------------------------------
// 코드 6.2 배열 기반의 리스트 테스트 프로그램
//--------------------------------------------------------------------
/*
 * [프로그램 설명]
 * 이 프로그램은 배열 기반 리스트(ArrayList)의 기본 사용법을 보여주는 예제입니다.
 * 리스트에 여러 위치에 요소를 삽입하고 삭제하는 연산을 테스트하고,
 * 리스트의 내용을 출력하여 결과를 확인합니다.
 */

#include <stdio.h>
#include <stdlib.h>

#define MAX_SIZE 100       // 리스트의 최대 크기를 100으로 정의
typedef int Element;       // 리스트에 저장할 데이터 타입을 int로 정의
#include "ArrayList.h"     // 배열 기반 리스트 헤더 파일 포함

/*
 * [리스트 출력 함수]
 * 현재 리스트의 내용을 출력하는 함수
 * 매개변수: 출력 시 표시할 메시지
 * 
 * [동작 과정]
 * 1. 메시지와 현재 리스트 크기 출력
 * 2. 리스트의 모든 요소를 순차적으로 출력
 */
void print_list(char* msg)
{
    printf("배열기반리스트 %s[%2d]: ", msg, size);
    for (int i = 0; i < size; i++)
        printf("%2d ", data[i]);
    printf("\n");
}

void main()
{
    init_list();          // 리스트 초기화 [ ]
    
    /*
     * [삽입 연산 테스트]
     * 다양한 위치에 요소를 삽입하여 리스트 구성
     */
    insert(0, 10);        // 맨 앞에 삽입 [10]
    insert(0, 20);        // 맨 앞에 삽입 [20, 10]
    insert(1, 30);        // 중간에 삽입 [20, 30, 10]
    insert(size, 40);     // 맨 끝에 삽입 [20, 30, 10, 40]
    insert(2, 50);        // 중간에 삽입 [20, 30, 50, 10, 40]
    print_list("(삽입x5)"); // 삽입 후 리스트 상태 출력

    /*
     * [삭제 연산 테스트]
     * 다양한 위치에서 요소를 삭제하여 리스트 변화 확인
     */
    delete(2);            // 중간 요소 삭제 [20, 30, 10, 40]
    delete(size - 1);     // 맨 끝 요소 삭제 [20, 30, 10]
    delete(0);            // 맨 앞 요소 삭제 [30, 10]
    print_list("(삭제x3)"); // 삭제 후 리스트 상태 출력
    
    /*
     * [결과 분석]
     * 배열 기반 리스트는 인덱스를 통해 요소에 직접 접근할 수 있어 
     * 특정 위치의 요소를 조회하는 연산이 O(1) 시간에 가능합니다.
     * 
     * 그러나 중간에 요소를 삽입하거나 삭제할 때는 
     * 기존 요소들을 이동시켜야 하므로 최악의 경우 O(n) 시간이 소요됩니다.
     * 
     * 위 테스트 프로그램을 통해 배열 기반 리스트의 다양한 연산이
     * 정상적으로 동작함을 확인할 수 있습니다.
     */
}
